{
    "name": "project-status-interviewer",
    "conversation_config": {
        "asr": {
            "quality": "high",
            "provider": "elevenlabs",
            "user_input_audio_format": "pcm_16000",
            "keywords": []
        },
        "turn": {
            "turn_timeout": 7,
            "silence_end_call_timeout": -1,
            "soft_timeout_config": {
                "timeout_seconds": -1,
                "message": "Hhmmmm...yeah.",
                "use_llm_generated_message": false
            },
            "mode": "turn",
            "turn_eagerness": "normal",
            "spelling_patience": "auto",
            "speculative_turn": false,
            "turn_model": "turn_v2"
        },
        "tts": {
            "model_id": "eleven_turbo_v2",
            "voice_id": "cjVigY5qzO86Huf0OWal",
            "supported_voices": [],
            "expressive_mode": false,
            "suggested_audio_tags": [],
            "agent_output_audio_format": "pcm_16000",
            "optimize_streaming_latency": 3,
            "stability": 0.5,
            "speed": 1,
            "similarity_boost": 0.8,
            "text_normalisation_type": "system_prompt",
            "pronunciation_dictionary_locators": []
        },
        "conversation": {
            "text_only": false,
            "max_duration_seconds": 600,
            "client_events": [
                "audio",
                "interruption",
                "user_transcript",
                "agent_response",
                "agent_response_correction"
            ],
            "monitoring_enabled": false,
            "monitoring_events": [
                "user_transcript",
                "agent_response",
                "agent_response_correction"
            ]
        },
        "language_presets": {},
        "vad": {
            "background_voice_detection": false
        },
        "agent": {
            "first_message": "Hi, ready for a quick check-in on this week's project progress? ",
            "language": "en",
            "hinglish_mode": false,
            "dynamic_variables": {
                "dynamicVariablePlaceholders": {}
            },
            "disable_first_message_interruptions": false,
            "prompt": {
                "prompt": "## Role: Professional Project Reporting Assistant \nGoal: Interview the project owner about their projects weekly status.\n## Conversation Logic:\n1. The Background Check (Silent Start): \n   - Your absolute first action is to call `verify_slot_is_empty`.\n   - **Important:** While the tool runs, you may say: \"Just a moment, let me check the project status...\" if there is a delay. \n2. Branching Logic (The Gatekeeper):\n   - **If `slot_empty` is FALSE:** Say: \"For this week, a status report has already been provided. Since the report is complete, we don't need to do another interview. Have a great day!\" then end the call.\n   - **If `slot_empty` is TRUE:** Proceed immediately to Step 3.\n3. Context Retrieval: \n   - Say: \"Hello. I'm ready for the project status report. Let me pull up the last summary for context...\" and call `fetch_last_report`.\n4. The Deep Dive: \n   - Use the data from `fetch_last_report` to bridge: \"I see that last week the focus was on [Summary]. What are the current activities happening now?\"\n   - Ask: \"What are the next steps planned?\"\n   - Ask: \"What refinement or support is needed?\"\n5. The Final Save: \n   - Summarize the gathered points. Ask: \"I've noted all that down. Should I generate and save the final report to Google Drive and update the database now?\"\n6. Submit the status report: \n    - Call submit_status_report. Use the captured details from the interview to populate the properties.\n    - The Filler: While the tool is processing, say something like: \"Got it. Give me just a second to finalize everything...\"\n    - The Confirmation: Once the tool returns success, inform project owner: \"All set! The new status report has been created in Google Docs and the database is up to date.\"\n7. End conversation:\n    - Tell the user: \"Thank you for providing this weeks status report, we are finished for today and I will hang up now.\", wait for 3 seconds and end the conversation by calling end_call.\n\n## Report output format (for submit_status_report):\n- activities (Current things): Group by theme (e.g. PMO situation resolved, Data topics, UI, Integration/Playwright tests, App Monitoring). Use bullet points (- ) and newlines. Preserve all details from the conversation; do not collapse to 2-3 sentences. Clearly separate: waiting items, resolved items, ongoing work, and items intentionally deferred (e.g. \"UI remains unchanged for now\").\n- next_steps: Format as a list of bullet points, one concrete action per line. No prose summary.\n- support_needed: If nothing needed, write one short sentence (e.g. \"No support needed at the moment.\"). Otherwise use bullet points.\n- In the tool string values use newlines and \"- \" for bullets so the document is readable. No emojis, no JSON blocks in the values.\n\n## Rules:\n- Automation: Do not ask the user for the date or confirmation; rely entirely on `verify_slot_is_empty`.\n- Branching: If `slot_empty` is false, you must terminate the interview gracefully but immediately.\n- Voice First: Keep sentences short and conversational.\n- No Hallucinations: Do not guess the previous summary; wait for tool returns.\n- Formatting: Do not use emojis, special characters, JSONs or URLs in spoken responses.",
                "llm": "gemini-2.5-flash",
                "thinking_budget": 0,
                "temperature": 0,
                "max_tokens": -1,
                "tool_ids": [
                    "tool_7201kgq2r4dseb4sp25s0q0hfzcx",
                    "tool_2001kgq3nrczeerr5wp8vkr8dphs",
                    "tool_3101kh6hhrc7f289h5vfdwk891cc"
                ],
                "built_in_tools": {
                    "end_call": {
                        "type": "system",
                        "name": "end_call",
                        "description": "",
                        "response_timeout_secs": 20,
                        "disable_interruptions": false,
                        "force_pre_tool_speech": false,
                        "assignments": [],
                        "tool_call_sound_behavior": "auto",
                        "tool_error_handling_mode": "auto",
                        "params": {
                            "system_tool_type": "end_call"
                        }
                    },
                    "search_documentation": null
                },
                "enable_parallel_tool_calls": false,
                "mcp_server_ids": [],
                "native_mcp_server_ids": [],
                "knowledge_base": [],
                "ignore_default_personality": false,
                "rag": {
                    "enabled": false,
                    "embedding_model": "e5_mistral_7b_instruct",
                    "max_vector_distance": 0.6,
                    "max_documents_length": 50000,
                    "max_retrieved_rag_chunks_count": 20
                },
                "backup_llm_config": {
                    "preference": "default"
                },
                "cascade_timeout_seconds": 8,
                "tools": [
                    {
                        "type": "webhook",
                        "name": "fetch_last_report",
                        "description": "Retrieves the historical summary of the last project status report.",
                        "response_timeout_secs": 45,
                        "disable_interruptions": false,
                        "force_pre_tool_speech": false,
                        "assignments": [],
                        "tool_call_sound_behavior": "auto",
                        "tool_error_handling_mode": "auto",
                        "dynamic_variables": {
                            "dynamicVariablePlaceholders": {
                                "project_id": "1"
                            }
                        },
                        "execution_mode": "immediate",
                        "api_schema": {
                            "request_headers": {},
                            "url": "https://verkstedt.app.n8n.cloud/webhook/fetch-last-report",
                            "method": "POST",
                            "path_params_schema": {},
                            "request_body_schema": {
                                "type": "object",
                                "required": [
                                    "last_report_request",
                                    "project_id"
                                ],
                                "description": "Request the context of the last status report.",
                                "properties": {
                                    "last_report_request": {
                                        "type": "string",
                                        "description": "Fetch and summarize the latest project report.",
                                        "is_system_provided": false,
                                        "dynamic_variable": "",
                                        "constant_value": ""
                                    },
                                    "project_id": {
                                        "type": "string",
                                        "description": "",
                                        "is_system_provided": false,
                                        "dynamic_variable": "project_id",
                                        "constant_value": ""
                                    }
                                }
                            },
                            "content_type": "application/json"
                        }
                    },
                    {
                        "type": "webhook",
                        "name": "submit_status_report",
                        "description": "Saves the gathered interview data by creating a new Google Doc and updating the Project Master Sheet. For that, use the variables provided in the body, such as the doc_title. ",
                        "response_timeout_secs": 20,
                        "disable_interruptions": false,
                        "force_pre_tool_speech": false,
                        "assignments": [],
                        "tool_call_sound_behavior": "auto",
                        "tool_error_handling_mode": "auto",
                        "dynamic_variables": {
                            "dynamicVariablePlaceholders": {
                                "project_id": "1",
                                "slack_ts": "1"
                            }
                        },
                        "execution_mode": "immediate",
                        "api_schema": {
                            "request_headers": {},
                            "url": "https://verkstedt.app.n8n.cloud/webhook/submit-status-report",
                            "method": "POST",
                            "path_params_schema": {},
                            "request_body_schema": {
                                "type": "object",
                                "required": [
                                    "submit_status_request",
                                    "activities",
                                    "next_steps",
                                    "support_needed",
                                    "short_summary",
                                    "project_id",
                                    "slack_ts"
                                ],
                                "description": "Request the context of the last status report.",
                                "properties": {
                                    "submit_status_request": {
                                        "type": "string",
                                        "description": "Requests submitting the finished status.",
                                        "is_system_provided": false,
                                        "dynamic_variable": "",
                                        "constant_value": ""
                                    },
                                    "activities": {
                                        "type": "string",
                                        "description": "Structured summary of current work: group by theme (e.g. PMO, Data, UI, Tests, Monitoring). Use bullet points (- ) and newlines. Preserve all details mentioned; do not collapse to 2-3 sentences. Include waiting items, resolved items, and items intentionally deferred.",
                                        "is_system_provided": false,
                                        "dynamic_variable": "",
                                        "constant_value": ""
                                    },
                                    "next_steps": {
                                        "type": "string",
                                        "description": "List of planned next steps as bullet points, one action per line. Use newlines between items.",
                                        "is_system_provided": false,
                                        "dynamic_variable": "",
                                        "constant_value": ""
                                    },
                                    "support_needed": {
                                        "type": "string",
                                        "description": "Any blockers or support requested; if none, one short sentence. Prefer bullet list if multiple items.",
                                        "is_system_provided": false,
                                        "dynamic_variable": "",
                                        "constant_value": ""
                                    },
                                    "short_summary": {
                                        "type": "string",
                                        "description": "Briefly summarize the outcome of the interview in 1-4 sentences. ",
                                        "is_system_provided": false,
                                        "dynamic_variable": "",
                                        "constant_value": ""
                                    },
                                    "project_id": {
                                        "type": "string",
                                        "description": "",
                                        "is_system_provided": false,
                                        "dynamic_variable": "project_id",
                                        "constant_value": ""
                                    },
                                    "slack_ts": {
                                        "type": "string",
                                        "description": "",
                                        "is_system_provided": false,
                                        "dynamic_variable": "slack_ts",
                                        "constant_value": ""
                                    }
                                }
                            },
                            "content_type": "application/json"
                        }
                    },
                    {
                        "type": "webhook",
                        "name": "verify_slot_is_empty",
                        "description": "Queries the project database to check for the existence of a report record matching the provided Calendar Week (KW) and Year. Returns a boolean 'exists' and metadata if a record is found. Use this to determine if a specific reporting period is currently vacant or occupied.",
                        "response_timeout_secs": 20,
                        "disable_interruptions": false,
                        "force_pre_tool_speech": false,
                        "assignments": [],
                        "tool_call_sound_behavior": "auto",
                        "tool_error_handling_mode": "auto",
                        "dynamic_variables": {
                            "dynamicVariablePlaceholders": {
                                "project_id": "1"
                            }
                        },
                        "execution_mode": "immediate",
                        "api_schema": {
                            "request_headers": {},
                            "url": "https://verkstedt.app.n8n.cloud/webhook/verify_slot_is_empty",
                            "method": "POST",
                            "path_params_schema": {},
                            "request_body_schema": {
                                "type": "object",
                                "required": [
                                    "verify_slot_request",
                                    "project_id"
                                ],
                                "description": "Request a verification whether an empty slot for the current kw-year exists. ",
                                "properties": {
                                    "verify_slot_request": {
                                        "type": "string",
                                        "description": "Request a verification whether an empty slot for the current kw-year exists. ",
                                        "is_system_provided": false,
                                        "dynamic_variable": "",
                                        "constant_value": ""
                                    },
                                    "project_id": {
                                        "type": "string",
                                        "description": "",
                                        "is_system_provided": false,
                                        "dynamic_variable": "project_id",
                                        "constant_value": ""
                                    }
                                }
                            },
                            "content_type": "application/json"
                        }
                    },
                    {
                        "type": "system",
                        "name": "end_call",
                        "description": "",
                        "response_timeout_secs": 20,
                        "disable_interruptions": false,
                        "force_pre_tool_speech": false,
                        "assignments": [],
                        "tool_call_sound_behavior": "auto",
                        "tool_error_handling_mode": "auto",
                        "params": {
                            "system_tool_type": "end_call"
                        }
                    }
                ]
            }
        }
    },
    "platform_settings": {
        "evaluation": {
            "criteria": []
        },
        "widget": {
            "variant": "full",
            "placement": "bottom-right",
            "expandable": "never",
            "avatar": {
                "type": "orb",
                "color1": "#2792dc",
                "color2": "#9ce6e6"
            },
            "feedback_mode": "during",
            "end_feedback": {
                "type": "rating"
            },
            "bg_color": "#ffffff",
            "text_color": "#000000",
            "btn_color": "#000000",
            "btn_text_color": "#ffffff",
            "border_color": "#e1e1e1",
            "focus_color": "#000000",
            "shareable_page_show_terms": true,
            "terms_text": "#### Terms and conditions\n\nBy clicking \"Agree,\" and each time I interact with this AI agent, I consent to the recording, storage, and sharing of my communications with third-party service providers, and as described in the Privacy Policy.\nIf you do not wish to have your conversations recorded, please refrain from using this service.",
            "terms_html": "<h4>Terms and conditions</h4>\n<p>By clicking &quot;Agree,&quot; and each time I interact with this AI agent, I consent to the recording, storage, and sharing of my communications with third-party service providers, and as described in the Privacy Policy.\nIf you do not wish to have your conversations recorded, please refrain from using this service.</p>\n",
            "show_avatar_when_collapsed": false,
            "disable_banner": false,
            "markdown_link_allowed_hosts": [],
            "markdown_link_include_www": true,
            "markdown_link_allow_http": true,
            "mic_muting_enabled": false,
            "transcript_enabled": false,
            "text_input_enabled": true,
            "conversation_mode_toggle_enabled": false,
            "default_expanded": false,
            "always_expanded": false,
            "text_contents": {},
            "styles": {},
            "language_selector": false,
            "supports_text_only": true,
            "language_presets": {}
        },
        "data_collection": {},
        "overrides": {
            "conversation_config_override": {
                "turn": {
                    "soft_timeout_config": {
                        "message": false
                    }
                },
                "tts": {
                    "voice_id": false,
                    "stability": false,
                    "speed": false,
                    "similarity_boost": false
                },
                "conversation": {
                    "text_only": true
                },
                "agent": {
                    "first_message": false,
                    "language": false,
                    "prompt": {
                        "prompt": false,
                        "llm": false,
                        "native_mcp_server_ids": false
                    }
                }
            },
            "custom_llm_extra_body": false,
            "enable_conversation_initiation_client_data_from_webhook": false
        },
        "workspace_overrides": {
            "webhooks": {
                "events": [
                    "transcript"
                ],
                "send_audio": false
            }
        },
        "testing": {
            "attached_tests": [],
            "referenced_tests_ids": []
        },
        "archived": false,
        "guardrails": {
            "version": "1",
            "alignment": {
                "is_enabled": false
            },
            "content": {
                "config": {
                    "sexual": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "violence": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "harassment": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "self_harm": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "profanity": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "religion_and_politics": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "medical_and_legal_information": {
                        "is_enabled": false,
                        "threshold": 0.3
                    }
                }
            },
            "moderation": {
                "config": {
                    "sexual": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "violence": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "violence_graphic": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "harassment": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "harassment_threatening": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "hate": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "hate_threatening": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "self_harm_instructions": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "self_harm": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "self_harm_intent": {
                        "is_enabled": false,
                        "threshold": 0.3
                    },
                    "sexual_minors": {
                        "is_enabled": false,
                        "threshold": 0.3
                    }
                }
            },
            "custom": {
                "config": {
                    "configs": []
                }
            }
        },
        "auth": {
            "enable_auth": false,
            "allowlist": [],
            "require_origin_header": false
        },
        "call_limits": {
            "agent_concurrency_limit": -1,
            "daily_limit": 100000,
            "bursting_enabled": true
        },
        "ban": null,
        "privacy": {
            "record_voice": true,
            "retention_days": -1,
            "delete_transcript_and_pii": false,
            "delete_audio": false,
            "apply_to_existing_conversations": false,
            "zero_retention_mode": false
        },
        "safety": {
            "is_blocked_ivc": false,
            "is_blocked_non_ivc": false,
            "ignore_safety_evaluation": false
        }
    },
    "tags": []
}